# Задача: Проверка корректности хэшей в модельном блокчейне
# Описание: Программа проверяет последовательность из N блоков на соответствие правилам вычисления хэша. Каждый блок содержит закодированные данные (m, r, h). Хэш должен быть меньше 100 и вычисляться по заданной формуле.
# Ввод: Сначала число N — количество блоков. Затем N чисел, каждое представляет один блок.
# Вывод: Номер первого блока с некорректным хэшем или -1, если все хэши правильные.

n = int(input())

prev = 0

for index in range(n):
    b = int(input())
    
    h = b % 256
    r = (b // 256) % 256
    m = b // (256 * 256)

    expected_h = (37 * (m + r + prev)) % 256

    if h >= 100 or h != expected_h:
        print(index)
        break
    else:
        prev = h
else:
    print(-1)
